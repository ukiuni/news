---
layout: post
title: "I converted 2D conventional flight tracking into 3D - 2Dの従来型フライトトラッキングを3Dに変換しました"
date: 2026-02-17T15:49:57.225Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://aeris.edbn.me/?city=SFO"
source_title: "Aeris — Real-Time 3D Flight Tracking"
source_id: 47048004
excerpt: "高度スライダーでSFOの2Dフライト地図を実時間3D表示に変換"
---

# I converted 2D conventional flight tracking into 3D - 2Dの従来型フライトトラッキングを3Dに変換しました
高度感がぐっと伝わる！SFOデモで見る「平面→立体」リアルタイム航空機トラッキングの作り方

## 要約
サンフランシスコ（SFO）を対象に、従来の2Dフライトマップを高度情報を持つリアルタイム3D表示に変換したデモ。高度スライダーで43,000 ft〜地上まで切り替え、飛行機の位置・高度を視覚的に把握できる。

## この記事を読むべき理由
フライトデータの可視化は航空趣味だけでなく、運航監視や教育、都市インフラ解析にも有用。日本の空域（羽田・成田・セントレア等）で同じ手法を適用すれば、運用改善やデータ可視化プロジェクトに直結する知見が得られます。

## 詳細解説
- データソース  
  - リアルタイム位置情報はADS‑BやOpenSky、商用API（FlightAware等）から取得。各メッセージは緯度・経度・高度・識別子を含むため、3D化に必要な基礎データが揃います。
- 座標変換（平面→3D）  
  - 緯度・経度・高度を地心直交座標（ECEF）に変換して3D空間に配置。簡易式は例えば：
  $$
  x=(R+h)\cos\phi\cos\lambda\\
  y=(R+h)\cos\phi\sin\lambda\\
  z=(R+h)\sin\phi
  $$
  - ここで $R$ は地球半径、$\phi$ が緯度、$\lambda$ が経度、$h$ が高度（m）。
  - 地域スケールの可視性向上のために高度を誇張（スケールファクタ）する実装が一般的。
- 描画プラットフォームと手法  
  - Web: three.js / deck.gl / Mapbox GL JS（3D建物と組み合わせ） / Cesium（グローブ表現）など。デモは地図上に高度レイヤーを重ね、航空機は小さなモデルやアイコンで表示。
  - パフォーマンス: 数千機を扱う場合はインスタンシング、GPUバッファ、Lod（Level of Detail）、空間フィルタリングが必須。
- UI/UX要素  
  - 高度スライダー（例: 0, 500 ft, 2,000 ft, 5,000 ft, 10,000 ft, 20,000 ft, 43,000 ft）で表示レイヤーを切替。カメラ操作（追跡/フリーロック）や選択でコールサイン詳細を表示。
- 課題と対策  
  - データの遅延・欠損：補間（線形/スプライン）で滑らかに。  
  - プライバシー・利用規約：商用データはライセンス確認。ADS‑Bは一部位置隠蔽されることがある。

## 実践ポイント
- まずはデータ取得：OpenSky APIか自前のADS‑B受信機でデータを集める。  
- ライブラリ候補：three.js（カスタム表現）、Cesium（高精度地球表現）、deck.gl（大量点の可視化）。  
- 実装の順序（最短ルート）：
  1. 2D位置データを受け取り、緯度/経度/高度を正規化。  
  2. 座標変換（上の式）→シーンへ配置。高度は可視性のためスケールを調整。  
  3. カメラ/UI（高度スライダー、追跡ボタン）を追加。  
  4. パフォーマンス改善（インスタンシング、フラストラムカリング）。  
- 日本向け応用：羽田/成田周辺のトラフィック分析、観光用の空港到着可視化、教育用シミュレーション。

短時間で3D化を試すなら、three.js + OpenSky の組合せで「まず動くもの」を作り、用途に応じてCesiumやMapboxへ拡張するのが現実的です。
