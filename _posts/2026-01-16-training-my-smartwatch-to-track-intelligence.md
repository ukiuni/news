---
layout: post
title: "Training my smartwatch to track intelligence - スマートウォッチに“知性”を見張らせる方法"
date: 2026-01-16T14:28:57.441Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://dmvaldman.github.io/rooklift/"
source_title: "RookLift - Writings"
source_id: 46624563
excerpt: "腕時計が今日の頭の冴えを60%で予測、REMと適度なストレスが鍵"
---

# Training my smartwatch to track intelligence - スマートウォッチに“知性”を見張らせる方法
魅力的なタイトル: 「腕時計が“頭の冴え”を予測する時代へ――ガーミンとチェスで作った私のメンタル予報アプリ」

## 要約
腕時計とチェスの勝敗データを組み合わせ、ロジスティック回帰で「その日の頭の冴え（チェスの勝率）」を約60%の精度で予測した個人プロジェクトの話。睡眠のREMやストレス指標が効き、直近の激しい運動は逆効果だった。

## この記事を読むべき理由
日常のウェアラブルデータを「体」だけでなく「心のパフォーマンス」へ結びつける発想は、業務のタスク振り分けや個人のセルフマネジメントに直結します。日本の長時間労働文化や飲酒習慣がメンタルパフォーマンスに与える影響をデータで可視化したい開発者・エンジニアに役立ちます。

## 詳細解説
- 何をしたか  
  - Lichessから日次のチェスデータ（対局日、開始ELO、ΔELO）を取得し、Garminから約1.5年分の睡眠・運動・ストレスなど約20の時系列信号を収集。これらを説明変数に、日ごとの勝敗（ELO増減）を目的変数にしてモデル化した。  

- 使ったモデルと精度  
  - 最も良かったのは単純で解釈性の高いロジスティック回帰（疎性ソルバーを併用）。クロスバリデーションで約60%の予測精度を達成。ランダムに近い50%より有意に高く、日常の生理指標が精神的なパフォーマンスに寄与することを示唆する。  
  - ロジスティック回帰の確率モデルは概念的には $P(y=1\mid x)=\sigma(w^\top x)$、$$\sigma(z)=\frac{1}{1+e^{-z}}$$ の形。

- 重要だった特徴（上位から下位）  
  - 正の相関: REM睡眠時間、ストレス×継続時間、ストレス×平均値  
  - 無相関: 深い睡眠（Deep sleep）、座り時間  
  - 負の相関: 活動消費カロリー、浅い睡眠（Light sleep）  
  - ここで「ストレス」はGarminの独自指標で、概ね逆HRV（心拍変動の逆数）で表せる。つまり「適度な覚醒/緊張」が集中力に寄与する場合がある（Yerkes–Dodsonの法則）。

- 解釈のポイント  
  - REMが効く：チェスのような作業は作業記憶や計画力を要し、研究でもREMが関連しているとされる。  
  - 短期の運動は逆効果：運動直後の疲労が複雑な認知タスクを阻害することがある。長期的には健康に良いが短期の「当日の勝率」は下がる傾向。  
  - ストレスの正寄与：完全なリラックスより、適度な覚醒の方が複雑タスクに有利になることがある。  
  - 注意点：個人モデルなので一般化は慎重に。Garminはサードパーティ向けに睡眠データの公開制限があり、アプリ化には障壁がある点も報告されている。

## 実践ポイント
- 自分で試すための最低手順  
  1. Lichessなどから対局ログをエクスポートする（日時・結果）。  
  2. ウェアラブル（Garmin、Apple Watchなど）から睡眠・運動データを取得・CSV化。  
  3. ロジスティック回帰で日次勝敗を予測。特徴選択（疎化）で重要指標を特定する。  

- 手早いサンプル（Python + scikit-learn）
```python
# python
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import cross_val_score
import pandas as pd

df = pd.read_csv("merged_daily.csv")  # 日次に集約済み
X = df[["rem_minutes","stress_avg","active_calories","light_minutes"]]
y = df["won_today"]  # 0/1

clf = LogisticRegression(penalty="l1", solver="saga", max_iter=1000)
print(cross_val_score(clf, X, y, cv=5).mean())
```

- 日常で使える行動指針  
  - 重要な頭脳労働は「REMが十分で、激しい運動後でない日」を狙う。  
  - 就寝前のアルコールはREMを著しく減らすので避ける（ワイン1杯でも影響あり）。  
  - データが示す「今日は不調」を尊重して、会議やレビューは軽めにする文化を作る。  
  - 日本ではApple Watchユーザーが多く、API・プライバシーの違いを踏まえてデータ取得方法を選ぶ（健康データの扱いに注意）。

まとめると、腕時計と日常記録を組み合わせるだけで「その日の頭の冴え」をある程度予測できる。個人差は大きいが、可視化することで行動改善（飲酒削減やタスク配分）につながる実用的なアプローチと言えます。興味があれば、データ整理やモデル化の具体的手順をもっと詳しく案内します。
