---
layout: "post"
title: "phoenix - A modern X server written from scratch in Zig - phoenix - Zigでゼロから書かれたモダンなXサーバー"
date: "2025-12-26 04:03:05.772000+00:00"
categories:
- tech
- world-news
tags:
- tech-news
- japan
source_url: "https://git.dec05eba.com/phoenix/about/"
source_title: "phoenix - A modern X server written from scratch"
source_id: "1696529663"
---
# phoenix - A modern X server written from scratch in Zig - phoenix - Zigでゼロから書かれたモダンなXサーバー

## 要約
phoenixはZigで一から実装された新しいXサーバーで、モダンなハードウェア（drm/GBM）向けに軽量で安全、かつハードウェア加速（GLX/EGL/Vulkan）を前提とした設計を目指すプロジェクトです。現状はネスト実行のみで実用化前ですが、設計方針は既存のXorgと明確に差別化されています。

## この記事を読むべき理由
日本のデスクトップ／組込み／ゲーム開発コミュニティにとって、ディスプレイ技術（HDR、マルチモニタ、低レイテンシ合成）やセキュリティモデルの刷新は直結する課題です。Wayland移行や新ハードの採用を検討している技術者にとって、phoenixのアプローチは実用的な代替案や実験プラットフォームになります。

## 詳細解説
- 実装言語と出自  
  phoenixはXorgのフォークではなくZigで一から実装。Zigの安全機能（ReleaseSafeビルドでの境界チェック等）を活かし、プロトコル解析を自動化することで脆弱性を減らす狙いがあります。

- 現状とサポート範囲  
  現時点では「ネスト実行（既存Xサーバー下で動作）」のみがサポート。これによりハードウェア加速（GLX/EGL/Vulkan）が使える環境でのレンダリングが可能で、実装・デバッグやウィンドウマネージャ/コンポジタ開発の試験場として使えます。

- 設計目標：シンプルさと現代的互換性  
  X11プロトコルの一部（特に古いフォント周りなど、実務で使われない冗長な部分）は意図的に省略。近年（約15–20年以内）に更新されたアプリやハードウェアを念頭に置き、drm/GBM対応の現代ハードウェアのみを正式サポートする方針です。サーバ側ドライバインターフェースは持たず、Waylandコンポジタのような構成を目指します。

- セキュリティとアプリ隔離  
  デフォルトでアプリ間は隔離され、スクリーン録画等の操作はGUIで許可を与える方式（または事前に権限付きで起動）を想定。既存クライアントはエラーを受け取らずダミーデータを返すため破壊的変更を避ける設計です。グローバルホットキーは修飾キー有りで動作、修飾無しが必要な場合は明示的な権限付与が必要になります（無効化オプションも用意予定）。

- グラフィックスと表示の改善  
  組み込みコンポジタを備え、デフォルトでティアリングを排除。外部コンポジタ（picom等）やフルスクリーン時は無効化されます。モニタ毎のリフレッシュレート差やVRR、HDRサポートなど、複数ディスプレイ構成の現代的要件に対応することが目標です。また、モニタ毎DPIなどの新しいプロパティ（randr拡張など）を定義してアプリ側で正しくスケーリングできるようにする計画があります。

- Wayland互換性と拡張性  
  将来的にはWaylandネイティブのサポート、あるいはWayland↔X11ブリッジ（既存ツールや外部プロセス）での互換性確保を想定。必要に応じてX11プロトコルを拡張し（例：HDR表現など）新しい機能を提供します。

- 非ターゲット（非目的）  
  Xorgの全面置換や古いハード全対応は目指さない、GrabServer挙動は異なる、間接GLX（リモートGLX）は複雑さのため優先度低め、等の線引きがあります。

## 実践ポイント
- 試してみる: まずはネスト埋め込みで動かせる環境を用意し、Vulkan/GLX/EGLを使うアプリを走らせてみる。ウィンドウマネージャやコンポジタの開発者には強力なテストベッドになる。  
- ハード要件確認: 使用するマシンがdrm + Mesa GBM（最近のGPUドライバ）を備えているかを確認すること。古いGPUは非推奨。  
- セキュリティ設計の検討: アプリ隔離と許可モデルは、特に企業内配布や公開端末でメリット大。スクリーン共有や入力取り扱いのポリシー設計を検討する。  
- DPI/HDR対応の準備: マルチモニタやHDRモニタを扱うワークフロー（クリエイティブ、映像制作、ゲーム）では、モニタ毎DPIやHDRの実装動向を追って検証プランを立てる。  
- コントリビュートと追跡: 現段階は開発初期なので、興味があるエンジニアはリポジトリをウォッチし、ネスト実行でのバグレポートやパッチで貢献すると効果的。

