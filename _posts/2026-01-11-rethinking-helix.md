---
layout: post
title: "Rethinking Helix - Helixを見直す"
date: 2026-01-11T20:46:09.000Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://asta.boserup.eu/forest/rethinking-helix/"
source_title: "Rethinking Helix"
source_id: 430479666
excerpt: "Helixの選択優先モデルがNeovimとどう違い、仕事での使い分けに何を注意すべきか解説"
---

# Rethinking Helix - Helixを見直す
Helix vs Neovim — 「選択」を第一級にした編集モデルの正体と、実務で知っておくべき使い分け

## 要約
Helixは従来のVim系エディタ（例: Neovim）と根本的に異なり、「選択（selection）」を常時可視化・状態化してから操作する二段階モデルを採る。これにより柔軟さと直感的な一部操作が得られる一方、モードの設計やキー再利用の点で学習コストと戸惑いが生じる。

## この記事を読むべき理由
日本ではVim/Neovimを日常的に使うエンジニアが多く、Helixへの興味も高まっています。Helixは高速でモダンな機能（Tree-sitter/LSPとの親和性など）を持つ一方、Vim的な操作を期待して移ると生産性が落ちる恐れがあります。移行を検討するなら、モデルの違いを理解しておくことが最短の近道です。

## 詳細解説
- モーダル編集の対比（Neovim）
  - Neovimは「モーション（移動）」と「オペレーター（作用）」の組み合わせが核。例: d3w（3単語を削除）や ci"（引用内部を変更）。オペレーターは対象（テキストオブジェクト）を指定してその場で作用する設計。
  - キーの再利用（operator-pending）により短い記法と柔軟な合成が可能。

- Helixの核：選択を第一にする二段階モデル
  - Helixは「アンカー」と「カーソル」を持つ選択（selection）が常に存在し、まず選択を作ってからその選択に対して削除・変更などを行う。つまり「準備（select）」→「実行（act）」の流れ。
  - 単一のコマンドで「移動して即作用」するNeovimに対し、Helixは選択という中間状態を明示的に扱うため、操作の意味合いが変わる（例: Neovimの d3w に対してHelixなら 3w で選択を伸ばし、d で削除）。

- 言語（コマンド構造）の違い
  - Neovimは「動詞＋対象（verb-object）」に近いが、Helixは「選択を作るための動き」自体が別カテゴリのコマンドになっていて、単純に逆順にすれば良いわけではない。
  - 典型的なテキストオブジェクト（inner/around）は両者で存在するが、Helixでは match モード（mi", ms, md など）や選択拡張の考え方で実現され、キーの役割が変わる。

- セレクト／拡張モードと状態管理の複雑さ
  - Helixは画面上に残る「選択状態（履歴）」があり、一度動かした後のアンカーの位置が次の動作に影響する。視覚的利点がある反面、既存の選択が邪魔になる場面がある（意図しない拡張など）。
  - 選択をリセットする ; キーや、選択を反転してから拡張する操作など、慣れるまで心構えが必要。

- 実装上の小ネタ
  - HelixはTree-sitterを活用して構造的な選択（関数単位・構文単位）を得意とする設計が多い。LSPとの連携でリファクタリングの支援も期待できる。
  - ただし、Neovimの膨大なプラグイン／カスタム設定資産をそのまま持ち込めない点は現場の考慮事項。

## 実践ポイント
- 最初の一歩
  - 「選択（アンカー／カーソル）」という概念を頭に入れる。まずは選択の作り方（単語・行・構文）と選択リセット（;）を覚える。
- よく使う操作の対応表を作る
  - 自分が頻繁に使う Neovim のショートカット（例: d0, ci", dd）を Helix の操作でどう実現するかをまとめておくと移行が早い。
- Match / Surround の違いを理解する
  - Neovimの cs" や ds" をそのまま期待せず、Helixの ms / mr / md や mi" の使い方を練習する。
- 選択ベースの利点を活かす
  - Tree-sitterベースの構造選択や正規表現でのサブディビジョン（sでの分割）など、Helixが得意とする操作を積極的に使う。
- 並行運用を許容する
  - いきなり完全移行せず、日常のワークフローでNeovimとHelixのどちらが効率的かをタスク単位で比較する。プロジェクトやチームの標準も考慮する。

Helixは「別のパラダイム」であり、Vimの延長線上で期待するとギャップに疲れる可能性があります。一方で構造的編集やTree-sitter連携を活かせば強力な武器になるため、短期的な慣れと長期的な利点を天秤にかけて試してみてください。
