---
layout: post
title: "Dithering for an epaper laptop - 電子ペーパー・ラップトップのディザリング"
date: 2026-01-24T15:33:57.776Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://peterme.net/building-an-epaper-laptop-dithering.html"
source_title: "Building an epaper laptop: Dithering -  Peter's DevLog"
source_id: 418700994
excerpt: "電子ペーパーで高速かつ残像低減する最適ディザリング手法を実務視点で比較解説。"
---

# Dithering for an epaper laptop - 電子ペーパー・ラップトップのディザリング
魅せる白黒表示を速くする──「速さ」と「見た目」を両立するディザリングの選び方

## 要約
電子ペーパー（e‑paper）パネルは色数や階調が限られるため、ディザリングで見かけ上の階調や可読性を稼ぐ。だがアルゴリズム次第で描画速度、並列化や部分更新、ゴースト（残像）への影響が大きく変わる。

## この記事を読むべき理由
日本のノートPC／モバイル用途ではバッテリと表示レスポンスが重要。ウェブや既存アプリを動かす汎用機で「見やすく・速く・省電力」にするには、どのディザリングをいつ使うかの判断が必須です。

## 詳細解説
- パネル特性：対象はモノクロ16階調パネル。色付きや高階調は遅く・コントラストが低いため、黒白モードと16階調モードのトレードオフが存在。
- 代表アルゴリズム
  - エラー拡散（Floyd–Steinberg, Jarvis–Judice–Ninke, Atkinson, Riersmaなど）  
    - 長所：グラデーションや静止画像で高画質。
    - 短所：ピクセル間に「依存性」が生じ、処理が直線的で並列化や部分更新が難しい。マウスやカーソル移動で誤差が伝播し、画面上に“雷”状の残像（lighting strike）やゴーストが恒久化することがある。最初の数行で誤差が溜まらず生じる「ウォームアップ」アーティファクトもある。
  - 順序付き（位置的）ディザリング（Bayer行列など）  
    - 長所：各ピクセル独立で並列化・GPU化が容易。部分更新に強く低遅延・低消費電力運用に向く。
    - 短所：小さなタイルパターンが目立つ「パターン問題」、エッジや文字の輪郭がぼやける「遷移問題」がある。
  - ブルーノイズ（スクリーンスケールのノイズパターン）  
    - 長所：パターン感が抑えられ、大画面での繰り返しアーティファクトが減る。画面サイズに合わせて一度生成すれば高速に適用可能。
    - 短所：エッジ保持はエラー拡散に劣るため、文字やUIの輪郭対策が必要。
- 実際の評価基準：単純な写真だけでなく「画像＋グラデ／ソリッドブロック＋文字（低コントラスト含む）」を混ぜたテスト画像で評価すると運用実態に即した判断ができる。
- 運用上の観点：汎用OSやブラウザなど制御不能なコンテンツが多いため、部分更新効率・並列処理・ゴースト軽減を優先する設計が現実的。

## 実践ポイント
- デフォルトは高速な黒白モード＋スクリーン単位のブルーノイズ／順序付きマスクで並列レンダリングし、部分更新を活かす。
- 静止画像閲覧や写真表示時にだけエラー拡散（Floyd–Steinberg等）の高品質モードへ切替える（ユーザー選択／自動検出）。
- 文字・UI用に専用の閾値調整やエッジ保護処理を入れる（低コントラスト文字は閾値を強めに）。
- 部分更新を有効にするため、更新領域の境界にエッジ用のフェイルセーフ（小領域は周辺を含めて再描画）を用意する。
- GPUが使える環境なら、ディザリングマスク（ブルーノイズ）を画面解像度で事前生成してシェーダで高速適用する。
- テストは必ず実データ（ウェブページ、アプリUI、写真、微妙なコントラスト文字）で行い、ゴーストの視認性も確認する。

短く言えば：高速・部分更新・ゴースト対策を優先するなら「順序付き／ブルーノイズ＋GPU並列」で日常操作、最高画質が欲しい場面だけ「エラー拡散」を使い分けるのが現実的です。
