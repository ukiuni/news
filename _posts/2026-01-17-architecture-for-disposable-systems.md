---
layout: post
title: "Architecture for Disposable Systems - 使い捨てシステムのアーキテクチャ"
date: 2026-01-17T12:54:49.119Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://tuananh.net/2026/01/15/architecture-for-disposable-systems/"
source_title: "Architecture for Disposable Systems - Tuan-Anh Tran"
source_id: 46657141
excerpt: "AI世代の短命コードを契約で差し替え、核を守る実践的アーキテクチャ"
---

# Architecture for Disposable Systems - 使い捨てシステムのアーキテクチャ
「コードは使い捨て時代へ──壊れてもいい部品と永続させる核をどう分けるか？」

## 要約
AIによるコード生成で「短期で使って捨てる」ソフトウェアが増える流れの中、重要なのは壊れても差し替え可能な周辺（Disposable）と、長期で守るべき核（Core）を明確に分離するアーキテクチャ戦略である。

## この記事を読むべき理由
コーディングエージェントの普及で「作って直す」コストが劇的に下がり、従来の“長期保守前提”の設計思想が通用しなくなりつつあります。日本の製造・金融・組み込みといった堅牢性を重視する現場でも、コスト最適化と安全性を両立するために、この考え方を早めに取り入れる価値があります。

## 詳細解説
- なぜ「使い捨て」が現実味を帯びるのか  
  コード生成が短時間・低コストでできると、バグを「直す」より「再生成する」方が経済的になる場面が増えます。結果として、完璧な内部実装よりも「外から見た振る舞い」が価値を持ちます。

- 3層モデルの提案  
  1. Core（耐久層）: ビジネスの真ん中にある不変近い部分。データモデル、会計ロジック、コンプライアンス処理など。人間が設計・レビューして長期維持する。  
  2. Connectors（契約層）: APIやスキーマなどの不変な契約。ここが堅牢であるほど、下の実装を自由に差し替えられる。  
  3. Disposable（使い捨て層）: AI生成のパーサ、ダッシュボード、統合スクリプトなど“壊れても良い”部分。契約に従えば内部品質は二の次。

- Contract-first の重要性  
  OpenAPI / gRPC / Smithy 等でスキーマを厳密に定義し、合格しない実装は組み込まない。契約テスト（consumer-driven contract testing）を自動化すれば、生成物を安心して差し替えられます。

- 品質保証と安全性の設計  
  Disposable層を受け入れるためには、監視・型チェック・入力検証・権限制御など実行時のガードレールが必須。APIゲートウェイやサニタイズ、フェイルセーフを用意しておく。

## 実践ポイント
- API/契約を最優先で定義する（OpenAPIやgRPCで設計）  
- 契約テストをCIに組み込み、実装の差し替えを自動化する  
- 核（Core）は厳密なレビューとテストで保守（変更は慎重に）  
- Disposableコードは「短寿命」を前提に、ログ・追跡を充実させる（再生成のための観測データを残す）  
- 再生成パイプラインを準備する：プロンプト管理、バージョン管理、canaryリリース、ロールバック手順を整備  
- 日本市場での応用例：金融の決済コアはCoreに置き、フロントのレポートや内製ツールをDisposableにすることで迅速な改善と規制対応を両立できる

まずは「小さなサービス」を1つ選び、API-firstで設計し、AIで生成したUIやパーサを差し替える実験をしてみると、コストとリスクのバランスが体感できます。あなたのアーキテクチャは、使い捨ての波に耐えられる設計になっていますか？
