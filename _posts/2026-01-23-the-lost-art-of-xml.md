---
layout: post
title: "The lost art of XML - XMLの失われた技法"
date: 2026-01-23T05:25:17.745Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://marcosmagueta.com/blog/the-lost-art-of-xml/"
source_title: "The lost art of XML — mmagueta"
source_id: 46728157
excerpt: "軽さだけで選ぶと痛い目に遭う、運用を守るXMLの正確性と互換性"
---

# The lost art of XML - XMLの失われた技法
魅力的なタイトル: 「なぜ今XMLに戻るべきか――見落とされた“正確さ”の価値」

## 要約
XMLは冗長に見えるが、スキーマによる厳密な型検査、名前空間による合成性、コメントや自己記述性など、長期運用や相互運用で重要な機能を備えている。JSON流行は便利さ優先の選択であり、本質的なトレードオフを見落としている、という主張。

## この記事を読むべき理由
日本のシステム開発では金融・組み込み・レガシー連携など「正確さ」が重視される場面が多く、XMLの持つ形式化・検証・互換性の利点は現場で即役立つからです。軽さだけを優先して起きる運用コストの増加を避けられます。

## 詳細解説
- スキーマ（XSD）の利点  
  XMLはXSDで「要素は整数」「必須で一度だけ出現」など文書レベルで型・構造を定義できる。受信前に構造検証ができるため、入力ミスや仕様逸脱を早期に捕捉できる。JSONは仕様に組み込まれた同等の仕組みがなく、JSON Schemaは普及に限りがある。

- 名前空間（Namespaces）と合成性  
  異なる語彙（例えばSVGやMathML、独自要素）を衝突なく組み合わせられる。JSONではキー名の衝突に対して手作業で回避（プレフィックス化やネスト）する必要が出がち。

- コメントと自己記述性  
  XMLはコメントを標準でサポートし、ドキュメント自身にスキーマ参照を埋められるため、渡したファイルだけで構造理解がしやすい。JSONはコメント非推奨で自己記述性が弱い。

- 構造モデルと直列化の分離（Information Set）  
  XMLの情報モデルは実体（要素・属性）と直列化（テキスト／バイナリ）を分離するため、同じ意味を保ったままFast InfosetやEXIといったバイナリ表現へ切り替えられる。JSONはテキスト表現とモデルが密に結びつき、互換性やバイナリ化が難しい。

- バイナリXML（Fast Infoset / EXI）  
  既に標準化されたバイナリ XML があり、サイズと解析速度の問題を解決できる。業界はこれを無視して新たなバイナリフォーマット（Protocol Buffers等）へ流れた経緯がある。

- 歴史的／実務的観点  
  MSBuildやWPFなど実運用でXMLを選んできた例があり、複雑な設定や長期互換性を重視する場面での有用性は実証済み。ただしXPath/XSLTの複雑さなど、XML固有の難点も存在する。

## 実践ポイント
- まず用途を分ける：短期的な軽量API→JSON、耐久性や多者間インターフェース→XMLを検討する。  
- スキーマを作る習慣を付ける：XSDで構造と型を明確化し、受信時にバリデーションを行う。  
- 名前空間を活用する：外部語彙を組み合わせる際はNSで衝突を防ぐ。  
- コメントやメタ情報はファイル内に残す：運用ドキュメントとしての価値が上がる。  
- 帯域や速度が問題ならEXI / Fast Infosetを検討：直列化を変えて性能と互換性を両立できる。  
- レガシー統合や重要データは「型と検証」を優先する方針に切り替える：初期の手間が運用コスト低減につながる。

短く言えば、見た目の軽さに惑わされず「何を守りたいか」を基準にフォーマットを選ぶこと。XMLは過去の遺物ではなく、正しく使えば今でも強力な選択肢です。
