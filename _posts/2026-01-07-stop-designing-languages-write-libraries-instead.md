---
  layout: post
  title: "Stop Designing Languages. Write Libraries Instead - 言語を作るな、ライブラリを書け"
  date: 2026-01-07T12:51:16.081Z
  categories: [tech, world-news]
  tags: [tech-news, japan]
  source_url: "https://lbstanza.org/purpose_of_programming_languages.html"
  source_title: "L.B.Stanza"
  source_id: 46525640
  excerpt: "言語を作る前に、実務で役立つライブラリが何を可能にするか検証せよ"
  ---

# Stop Designing Languages. Write Libraries Instead - 言語を作るな、ライブラリを書け
言語の力で「使いやすいライブラリ」を設計する——Rails が教える本質

## 要約
プログラミング言語の真価は新機能そのものではなく、どんなライブラリが書けて、ユーザがそれをどう使えるかにある。言語設計は「どのようなライブラリを簡潔に表現できるか」を決める。

## この記事を読むべき理由
日本では今も企業システムで Java が根強く、スタートアップでは Ruby on Rails や Python が人気です。言語選択が「生産性」と「エコシステム（ライブラリ）」に直結する点を理解すると、技術選定やライブラリ開発の優先順位が明確になります。

## 詳細解説
- 中核的主張：プログラミング言語は「強力で使いやすいライブラリ」を生み出す基盤であり、言語の設計がライブラリの形を決める。  
- 言語機能とライブラリ設計の因果：
  - ファーストクラス関数やクロージャ、メタプログラミング、ランタイム評価、継続/コルーチンなどの機能は、特定のドメイン向けライブラリを簡潔に表現するために不可欠になることが多い。Ruby on Rails は Ruby のメタプログラミングや動的評価を多用して「極めて簡単にWebを構築する」体験を提供しているため、単に「Rails を移植すれば良い」わけではない。
  - 逆に C や古典的な Java のような言語は、言語レベルの表現力が制約になるため、同じ概念を実装すると冗長なハンドラ／サブクラス設計になりやすい。結果としてライブラリの使いやすさが下がる。
- インタラクティブな現代ソフトウェアでは、拡張性やコールバック、並行処理の表現が重要。言語が直接サポートする抽象（例：コルーチン）によって、ライブラリの設計パターン自体が変わる。
- トレードオフ：表現力の高い動的言語はライブラリを短く書ける一方で、静的型付けはコンパイル時の安全性やリファクタリングの容易さを提供する。多くの言語機能（型システムの拡張や新しいオブジェクトモデル）は、現状ライブラリだけでは完全に実装できないことがあるため、言語レベルの設計もまた重要。
- 研究と実践の接点：Racket や Shen のような言語はメタプログラミングや型システム拡張を重視しており、「ライブラリで言語の振る舞いを拡張する」方向の試みが続いている。実務では、言語が許す範囲で最大限ライブラリ化する設計が現実的な戦略。

## 実践ポイント
- 要件の棚卸し：プロジェクトで必要な抽象（イベント駆動、非同期、DSL、型検査など）を洗い出し、それが「言語機能でしか実現できない」かライブラリで済むかを判断する。
- 言語選定基準を明確に：必要なライブラリ表現力（メタプログラミング、コルーチン、型拡張など）を満たす言語を優先する。短期間での生産性を重視する場合は豊富な既存ライブラリを評価する。
- 小さなプロトタイプで検証：重要なライブラリ（例：状態遷移、イベントハンドリング、DBマッピング）を短期間で実装して、言語の表現力と生産性を体感する。
- ライブラリ設計の哲学を共有：チームで「使いやすさ」を最優先にするなら、API がコーディング時に読みやすく直感的かどうかを基準にレビューする。
- エコシステム投資：日本市場なら既存の企業向けライブラリ（Java）と生産性重視のフレームワーク（Rails）の差を踏まえ、社内でのライブラリ整備やコミュニティ貢献を戦略的に行う。

短く言えば、言語を作る前に「その言語でどんなライブラリが書けるか」を考えよう。良い言語設計は良いライブラリを生み、良いライブラリは実務の生産性を決める。
