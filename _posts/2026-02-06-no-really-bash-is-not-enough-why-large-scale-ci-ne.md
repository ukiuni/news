---
layout: post
title: "No, Really, Bash Is Not Enough: Why Large-Scale CI Needs an Orchestrator - 本当に？Bashだけでは足りない：大規模CIにオーケストレーターが必要な理由"
date: 2026-02-06T10:40:55.410Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://iankduncan.com/engineering/2026-02-06-bash-is-not-enough/"
source_title: "No, Really, Bash Is Not Enough: Why Large-Scale CI Needs an Orchestrator - Ian Duncan - Ian Duncan"
source_id: 1621763811
excerpt: "50人規模や多数並列ジョブではBash限界、CIオーケストレーター導入を提案。"
image: "https://iankduncan.com/portrait.jpg"
---

# No, Really, Bash Is Not Enough: Why Large-Scale CI Needs an Orchestrator - 本当に？Bashだけでは足りない：大規模CIにオーケストレーターが必要な理由
Bash神話を崩す：50人以上のチームでCIが地獄化する前に知っておきたいこと

## 要約
BashやMakefileでの「ただのスクリプト」運用は、小規模なら有効だが、エンジニア数やパイプラインの複雑さが増すと限界を迎える。大規模CIでは依存関係・並列化・リソース管理・可観測性を扱う専用のオーケストレーターが必要になる。

## この記事を読むべき理由
日本のスタートアップや事業成長中チームでも、開発体制が拡大するとCIの遅延がプロダクト開発のボトルネックになる。今の運用がいつ「許容範囲」を超えるかを見極め、次の一手を考える指針になる。

## 詳細解説
- Bashの長所：どの環境にもあり導入不要、直線的ワークフロー（チェックアウト→依存→テスト）やローカル実行が容易で可読性も高い。小規模プロジェクトでは最適解になり得る。  
- 限界点：テスト分散、アーティファクト受け渡し、条件実行、異なるマシン要求、障害時の再試行や結果集約など、複雑な要求は「分散システム」の問題になる。Bashはデータ構造や堅牢なエラー制御を欠き、手作りの並列処理やロック機構は保守負荷と脆弱性を招く。  
- 典型的な必要機能：DAG（依存グラフ）でのステップ定義、並列スケジューリング、リソース／エージェントプール、アーティファクトとキャッシュ、失敗時の振る舞い、タイミングデータを使ったテスト分割、可視化とログ検索。  
- 研究的背景：ビルドシステム研究では「スケジューラ」と「再ビルド判定」の設計軸があり、最も単純な戦略は毎回全ビルド（＝手作りスクリプトの挙動）で非効率とされる。つまり「忙しいだけの再実行」はコストを生む。  
- 実例教訓：専門性の高いCI（例：テストを履歴で分割して並列化する仕組み）は、ユーザが手作業で再現するのは難しく、プラットフォームに委ねたほうがトータルで効率が良い場合が多い。

## 実践ポイント
- 自分の閾値を決める：エンジニア数が20〜50、またはパイプラインで多数の並列ジョブ／条件分岐があるならオーケストレーター導入を検討する。  
- 段階的移行：Makefile／スクリプトを「エントリポイント」に残し、複雑な依存・並列は外部オーケストレーターに委譲する（ロジックの分離）。  
- 必須チェックリスト：DAGサポート、アーティファクト渡し、キャッシュ戦略、ジョブごとのリソース指定、ログの集約と検索、テスト分割機能。  
- 測る：CIによる週当たりのエンジニア時間損失やデプロイ遅延を定量化してROIを示す。  
- 選択肢の検討：マネージド（GitHub Actions/CircleCI等）・セルフホスト（Buildkite、自前のオーケストレーター）・ビルドツール（Bazel等）の組合せを要件に合わせて評価する。

短期的には「シンプルで動く」が正解だが、成長に応じてCIはインフラ化する。Bashは優秀な道具だが、オーケストレーションの役割まで期待するのは、拡張性と運用性の観点で賢明ではない。
