---
layout: post
title: "The Hallucination Defense - 「AIがやった」弁明"
date: 2026-01-29T22:43:20.091Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://niyikiza.com/posts/hallucination-defense/"
source_title: "Vectors | The Hallucination Defense"
source_id: 46815527
excerpt: "署名付きワラントとレシートでAI操作の承認を結びつけ、不正や誤動作の責任追跡を確実にする方法を示す"
---

# The Hallucination Defense - 「AIがやった」弁明
魅力的タイトル: 「『AIが勝手にやった』で済ませない——署名付きワラントで責任を残す方法」

## 要約
ログだけでは「誰が何を許可したか」を証明できず、AIエージェントの誤動作や不正を「AIのせい」にされる危険がある。署名付きの短期・範囲限定の「ワラント（warrant）」と実行後の受領証（receipt）で、行為と承認を結びつける設計を提案する。

## この記事を読むべき理由
日本の企業でもAIエージェント導入が急速に進む中、決済や機密データアクセスなど高リスク操作の監査・責任追跡は重要課題。規制対応や内部統制を強化したいエンジニア／管理者に直接役立つ実践的な考え方です。

## 詳細解説
- 問題点：一般的なログ（誰がセッションを持っていたか、どのコンポーネントが動いたか）は「出来事」を記録するが、ある操作をその人が明示的に許可したことを強く証明しない。特にオーケストレータ→サブエージェント→外部サービスと渡る多段実行では、責任の連鎖が切れやすい。
- OAuth/トークンの限界：ベアラートークンは持っている者が使えるため、意図の証明にならない。送信者拘束型トークンで改善はできるが、行為単位の承認証跡にはならない。
- ワラント（署名付き承認）の役割：人（例：管理者）がPasskey/WebAuthnで署名した「このエージェントにこれを許可する」という暗号化された承認オブジェクト。holder-binding（実行エージェント鍵との紐付け）、スコープ（例：/data/reports サブパスのみ）、有効期間、委譲可能性の制限を持つ。
- 実行時の受領証：リソース側はワラントを検証して処理すると、承認（誰がいつ何を許可したか）と実行メタデータを含むreceiptを発行する。ログは出来事を示し、receiptは承認の証明になる。
- セキュリティ効果：ワラントで許可範囲が明示されるため、プロンプトインジェクションで意図外のコマンドが来てもワラント外の操作は拒否される。署名済みの承認は後から否認しにくく、盗難が起きた場合はどのデバイスが署名したかを調査できる（証跡が残る）。

## 実践ポイント
- 高リスク操作（送金、外部へのデータ転送、機密ファイル参照）から優先導入する。
- 行為単位の短TTL・最小スコープのワラントを発行するワークフローを作る（例：1操作ごとに60秒〜1時間未満）。
- 承認はPasskey/WebAuthnなどUXが良い署名手段で行い、ユーザー負担を下げる。
- ワラント検証とreceipt発行をリソース側で実装し、receiptをログと一緒に保存して監査可能にする。
- 既存IAM/OAuthは置き換えず補完する形で、トークン＋ワラントの二重防御を検討する。
- ステージングで委譲チェーンや多段実行のケースを演習し、フォレンジック手順を整備する。

以上。導入検討の具体的質問や日本向け運用パターンの提案が必要ならお知らせください。
