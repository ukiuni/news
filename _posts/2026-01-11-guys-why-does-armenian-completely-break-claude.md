---
layout: post
title: "guys why does armenian completely break Claude - なぜアルメニア語はClaudeを完全に“壊す”のか"
date: 2026-01-11T20:43:18.135Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://twitter.com/dyushag/status/1993143599286886525"
source_title: "guys why does armenian completely break Claude"
source_id: 46579397
excerpt: "トークナイザやUnicodeの不具合でClaudeが止まる原因と対処を図解"
---

# guys why does armenian completely break Claude - なぜアルメニア語はClaudeを完全に“壊す”のか
アルメニア語を投げるとAIが動かなくなる？Claudeが言語でつまずく理由を分かりやすく解説

## 要約
あるツイートで「アルメニア語を入力するとClaude（会話型AI）が完全に動かなくなる」と話題になりました。実際に起きうる原因はトークナイザ／Unicode処理やフィルタ／バグで、対処法はいくつかあります。

## この記事を読むべき理由
日本語はマルチバイト・複合スクリプトを扱う点で特殊性があり、アルメニア語で起きる問題の原因は日本のサービスやツールでも同じように発生します。LLMやチャットボットを使う・作る人は、こうした「文字セット由来の落とし穴」を事前に理解しておくと運用で困りにくくなります。

## 詳細解説
ツイート自体は短い観察ですが、技術的に考えられる主要因は以下です。

- トークナイザ（BPE / SentencePiece / byte-level）  
  モデルが使うトークナイザによっては、未学習の文字列を非常に多数のトークンに分割してしまい、トークン数制限や処理負荷を引き起こす。byte-levelトークナイザでもバイト列の扱い方次第で想定外の長大入力になることがあります。

- Unicode正規化（NFC/NFD）と結合文字  
  見た目は同じでもコードポイントが異なる文字列があるため、正規化をしていないと内部比較やフィルタでミスマッチして処理が壊れる可能性があります。

- エンコーディング・バイトの問題  
  入力のエンコーディングが期待と異なると、バイト不整合や無効文字が出てパーサやサニタイザが例外を投げることがあります。

- セーフティフィルタや正規表現の未対応  
  モデル前処理で使うフィルタ（言語判定や禁止語チェック）が特定スクリプトに対して誤判定や無限ループを起こす場合があります。特殊な句読点や非標準空白が原因になることも。

- 実装バグやライブラリの未対応  
  ブラウザやクライアント側のレンダリング（質問文にある「JavaScriptが無効」という表示のように）やAPIのパラシングで例外が発生している可能性。外部依存ライブラリが一部スクリプトを扱えないことも。

再現・切り分けの方向性：
- 同じ文字列を別のモデル（GPT系など）に投げて挙動を比較する  
- トークナイザを通してトークン数／バイト列を観察する  
- Unicode正規化（NFC/NFD）を適用して差を確認する  
- サニタイザやフィルタを一時無効化してどの段階で失敗するかを特定する

## 実践ポイント
- まずは正規化：入力を常に NFC に正規化してから送る。
- バイト数／トークン数チェック：送信前にトークン数上限やバイト長をチェックしてログに残す。
- ロギングで段階切り分け：受信→サニタイズ→トークナイズ→送信 の各段階でログを取る。
- フォールバック設計：特定スクリプトで失敗したら自動で転送（例：Latin転写）する簡易フォールバックを用意する。
- 再現情報を揃えて報告：サービス提供者にバグ報告する際は、問題の文字列・正規化状態・トークン化結果・使ったクライアント情報を添える。
- 日本市場での注意点：日本語処理でも全角の特殊文字・結合文字で同様の問題が起きるため、上述の対策はそのまま有効。

短く言えば、言語固有の「文字とバイトの扱い」周りでモデルや前処理が想定外の入力に弱いケースが多く、まずは正規化とトークン／バイトの観察で原因を切り分けるのが最短ルートです。
