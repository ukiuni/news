---
layout: post
title: "Notes on the Intel 8086 processor's arithmetic-logic unit - Intel 8086プロセッサの算術論理回路（ALU）に関するメモ"
date: 2026-01-23T20:26:42.373Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://www.righto.com/2026/01/notes-on-intel-8086-processors.html"
source_title: "Notes on the Intel 8086 processor's arithmetic-logic unit"
source_id: 46735133
excerpt: "8086のALUがLUTとマイクロコードで再構成される意外な複雑さと設計上の秘訣を暴く"
---

# Notes on the Intel 8086 processor's arithmetic-logic unit - Intel 8086プロセッサの算術論理回路（ALU）に関するメモ
魅せるタイトル: 「レトロCPUの“頭脳”を覗く――8086のALUはなぜこんなに複雑なのか？」

## 要約
8086のALUは16ビットで28種類の演算をこなし、マイクロコードと細かな制御回路（LUTやPLA、フリップフロップ）で柔軟に再構成される。その設計はCISCらしい例外処理や特殊命令群を巧妙に扱うために複雑になっている。

## この記事を読むべき理由
x86アーキテクチャの起源に触れることで、現代CPUの設計トレードオフ（CISCの複雑さと互換性の重視）が理解できる。組込みやレガシー互換対応、レトロPC復元に関心がある日本の技術者・趣味者に有益。

## 詳細解説
- 全体構成：8086はBIU（バス／フェッチ）とEU（実行）に分離。ALUはEU内の左下に位置し、下位8ビット／上位8ビットでフラグ回路を挟む構成。
- マイクロコード設計：1つの機械語命令は複数のマイクロ命令に分解される。各マイクロ命令は「データ移動」と「副作用（ジャンプ／メモリ／ALU操作など）」の二つの役割を同時に持つ点が特徴。
- XI（疑似ALU操作）：多くの命令は同じマイクロコードを使い、ALUの実際の操作は命令のバイトから補入される。XIフィールドがそれを仲介する。
- ALUの実装：8086はビットごとの回路に「2つのルックアップテーブル（LUT）」と追加ゲートを使い、入力ビット選択でキャリー生成・出力を切り替える方式を採用。LUTに与える6つの制御信号で加算・論理演算・減算などを再構成する（FPGAのLUTに近い考え方）。
- 制御回路：マイクロ命令から来る操作フィールドや一時レジスタ選択をラッチ（フリップフロップ）で保持。5ビットの操作ラッチ→OP PLAが27本の制御信号へデコード。さらに約15本がLUT PLAへ渡り、最終的にALUの振る舞いを決める。高電流ドライバでALUへ出力。
- 特殊処理：CMPは結果を破棄してフラグだけ更新、ADC/SBBは初期キャリーの扱いが異なる、INC2/DEC2はビット1へのインクリメント、シフト・回転は右シフト専用経路やキャリー絡みの処理、DAA/DAS/AAA/AASなどBCD／ASCII調整は別回路で実装される——これらが回路を複雑にする主因。
- マイクロ命令タイミング：ALU設定用のマイクロ命令と結果取得用のマイクロ命令が分かれており、制御回路は次サイクルの結果のために操作を記憶する必要がある。初期リセット状態でADDがデフォルトになるため、加算は短縮できる設計的工夫もある。

## 実践ポイント
- レトロ解析をしたいなら：Ken Shirriff氏のダイ写真記事＋Andrew Jenner氏の8086マイクロコード逆アセンブルを読むと理解が深まる（両者は原典）。
- 学習ツール：8086のマイクロコードやALU動作をエミュレータ／シミュレータで追ってみると、XIによる置換やフラグ更新の挙動が把握しやすい。
- 比較視点：RISC（例：ARM）とCISC（8086）の違いを実例で学べる。命令デコードのシンプルさ vs 互換性のための例外処理のトレードオフを意識すること。
- 日本の現場での意味：古いDOS/V互換機の復元、組込み機器のレガシーサポート、ハードウェア教育やCPU設計入門の教材として有用。

興味があれば、8086ダイ写真の注釈や簡易シミュレータでの実践手順をまとめます。どちらが見たいですか？
