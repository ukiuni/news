---
layout: post
title: "I got paid minimum wage to solve an impossible problem - 最低賃金で不可能な問題を解かされた話"
date: 2026-01-10T13:05:41.845Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://tiespetersen.substack.com/p/i-got-paid-minimum-wage-to-solve"
source_title: "I got paid minimum wage to solve an impossible problem."
source_id: 46564618
excerpt: "最短経路が現場で使えない理由と、歩きやすさをコスト化して実用経路を得た実例を解説"
image: "https://substackcdn.com/image/fetch/$s_!2Hrk!,w_1200,h_675,c_fill,f_jpg,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbdc47e6c-cc83-4a27-87bd-102e3d3c0516_1150x1500.png"
---

# I got paid minimum wage to solve an impossible problem - 最低賃金で不可能な問題を解かされた話
最短ルート＝最良ではない──スーパーの床掃除でアルゴリズムの「何を最適化するか」が全部を決める瞬間

## 要約
スーパーの床掃除を最短距離で最適化したらとんでもない動きになる。現実的な「歩きやすさ（ターンや時間）」をコストに入れたら、実用的な経路になった。問題はアルゴリズムではなく、何を最適化するかだ。

## この記事を読むべき理由
メトリクスを間違えると、完璧なアルゴリズムでも現場では使い物にならない――これは自動化や推薦、UX設計、業務効率化、AI導入という日本の現場で日常的に起きている問題です。特に小売・物流・ロボット導入を検討するエンジニアやマネージャーは必読です。

## 詳細解説
- モデル化：実際のスーパーマーケット（元記事はAlbert Heijn）の床をタイルで分割し、各タイルをノード、隣接をエッジとするグリッドグラフに変換。斜め移動も許可（壁は通れない）。
- 問題設定：すべてのタイルを一度ずつ巡るサイクルを探す。これは巡回セールスマン問題（TSP）に近く、大きいと厳密解は計算不可能（指数的）。
- ヒューリスティックの適用：厳密解を目指さず近似解を探索するためにシミュレーテッドアニーリングを採用。局所操作として2-opt（経路の2辺を切ってつなぎ直す）を繰り返す。初期は温度が高く悪化する変更も受け入れ、徐々に温度を下げて改善のみを許す挙動で大域解に近づける。
- 失敗例：距離だけをコストにすると、結果は「最短だが鋭いターンだらけ」で人間が実際に掃くには非現実的。見た目や身体的負担、歩行の流れを無視した最適化の典型。
- 解の改良：コスト関数にターンの罰則を追加して、ターンをすると追加コストが乗るようにした。例えば
  $cost = distance + \alpha \cdot turn\_cost$
  として $\alpha$ を変えることで「純粋な効率」⇄「実用性」のトレードオフをスライド調整可能にした。罰則を強くすると距離は増えるが滑らかで人が歩ける経路が得られる。
- 一般化された教訓：アルゴリズムは与えられた目的を完璧に最適化するだけ。目的（コスト関数）が現実とずれていると、有害な最適化結果が出る。SNSのエンゲージメント最適化や推薦の副作用、LLMが「自信を持って嘘を言う」問題など、領域を越えた普遍的な問題です。

## 実践ポイント
- まず「何を測るか」を明確にする：距離ではなく「時間」「疲労」「操作回数」など現場指標を優先して定義する。
- コスト関数に人間的要素を入れる：ターン罰則、加速・減速のコスト、視認性・迷子のリスクなどを数値化して組み込む。
- 単純な代理指標に依存しない：計測しやすいもの＝正しいものではない。代理指標の妥当性を定期的に検証する。
- ヒューリスティック活用例：2-opt＋シミュレーテッドアニーリングは大規模グリッドで使いやすい。計算時間と改善幅のバランスを評価して運用する。
- ユーザーテストを必須にする：最終的に人が使うなら、必ず実地で試して定性的なフィードバックを取り入れる。
- 指標のスライダー化：現場や時間帯に応じて罰則係数を切り替えられる設計にしておく（忙しい時間は短さ優先、接客中は滑らかさ優先など）。
- 組織的教訓：KPI設計は倫理や顧客体験を含めた多目的最適化にする。単一指標最適化の罠を警戒する。

この小さな掃除の実験は、どんな現場でも起きる「最適化の落とし穴」を可視化してくれます。最も重要なのはアルゴリズムの性能ではなく、何を最適化するかを正しく設計することです。
