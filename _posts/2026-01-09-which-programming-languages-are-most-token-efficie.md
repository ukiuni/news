---
layout: post
title: "Which programming languages are most token-efficient? - どのプログラミング言語が最もトークン効率が良いか？"
date: 2026-01-09T17:52:52.916Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://martinalderson.com/posts/which-programming-languages-are-most-token-efficient/"
source_title: "Which programming languages are most token-efficient? - Martin Alderson"
source_id: 1033123850
excerpt: "同じ処理でも言語で必要トークン数が最大約2.6倍、LLM開発で選択がコストと実用性を左右する"
image: "https://martinalderson.com/img/og/which-programming-languages-are-most-token-efficient.png"
---

# Which programming languages are most token-efficient? - どのプログラミング言語が最もトークン効率が良いか？
トークン節約でLLM開発が変わる？意外と重要な「言語の短さ」を考える

## 要約
LLM（大規模言語モデル）にとって「トークン効率」は実務で無視できない制約になり得る。RosettaCode の多言語実装をトークナイザで比較したところ、言語によって同じ処理でも必要トークン数に大きな差（最大で約 $2.6\times$）が出た。

## この記事を読むべき理由
日本でもAIを使った自動コード生成やエージェント運用が進む中、モデルのコンテキスト長（＝同時に扱えるトークン量）はコストと実用性に直結します。どの言語を選ぶかが、LLMベースの開発フローやランタイム資源に影響する可能性があるため、今から知っておく価値があります。

## 詳細解説
- 背景：現在のTransformer系モデルはコンテキスト長が限られており、長いコンテキストはメモリ使用量を急増させます。コードを大量に含む開発セッションでは「同じモデルでどれだけ長い作業ができるか」はトークン効率に依存します。
- 分析手法：RosettaCode のタスク群（複数言語で同じ実装があるもの）を使い、Xenova/gpt-4 トークナイザで各実装のトークン数を比較した。完全な科学的調査ではなく、比較的同等の実装同士の傾向を見るためのアプローチです。
- 主な発見：
  - 言語間でトークン消費に有意な差があり、最も非効率な C と最も効率の良い Clojure の間で約 $2.6\times$ の差が出た。
  - 動的型付け言語は一般にトークン効率が良い傾向。ただし JavaScript は動的言語の中でやや冗長に出た。
  - Haskell や F# といった関数型・静的型付け言語も非常に効率が良く、型推論が短いコードを生むためトークン効率に貢献している。
  - APL のように見た目は非常に短い言語でも、トークナイザが記号セットをうまく処理できないとトークン数が増える現象がある（記号が多トークン化される）。
- 解釈：LLM時代の「言語選択」には従来の実行効率やエコシステムだけでなく、トークン効率が新たな考慮点として加わる可能性がある。特にエージェントが大量のコードをコンテキストに読む・編集する用途では差が大きく出る。

## 実践ポイント
- 言語選定の目安：LLMを多用するワークフローでは、単純な業務要件に加えてトークン効率も評価軸に。試験的に Haskell / F# / Clojure などの効率的な言語を検討してみる価値がある。
- 型の利点を活かす：静的型＋型推論（例：F#, Haskell）は、トークンあたりの情報密度が高く、構文エラーの早期検出にも有効。LSP と組み合わせるとLLMの出力検証が楽になる。
- プロンプトとコードの工夫：冗長なコメントや不要な空白、長い名前はトークンを浪費する。重要な部分を要約して渡す、差分だけ送る（chunking）などで節約できる。
- ツール活用：トークナイザ（OpenAI の tokenizer や Xenova/mimic）で自分のコードを測定し、どこがトークンを食うかを可視化する。
- 長期運用：LLMエージェントに大量のレポジトリを読み込ませる設計では、コードのスニペット化、モジュール要約、自動ドキュメントの圧縮（TOONのような技術）を導入すると効果的。

最後に：ペタフロップ級の計算があっても、現場では「短いトークンで多くを伝えられる」工夫がコストとUXを左右します。日本のプロジェクトでも早めに試して、モデル選定や開発フローに組み込むことをおすすめします。
