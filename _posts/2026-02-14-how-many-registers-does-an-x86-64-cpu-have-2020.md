---
layout: post
title: "How many registers does an x86-64 CPU have? (2020) - x86-64 CPUはレジスタをいくつ持っているか？"
date: 2026-02-14T14:05:10.949Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://blog.yossarian.net/2020/11/30/How-many-registers-does-an-x86-64-cpu-have"
source_title: "How many registers does an x86-64 CPU have?"
source_id: 47014405
excerpt: "x86-64に隠れたレジスタ群—数え方で数十〜数千に変わる理由を解説"
---

# How many registers does an x86-64 CPU have? (2020) - x86-64 CPUはレジスタをいくつ持っているか？
あなたのCPUに眠る“見えない”レジスタの数を知れば、低レイヤーの理解がぐっと深まる

## 要約
x86-64は表面的なGPRだけでなく、サブレジスタ、SIMD系、制御・デバッグ・モデル固有レジスタ（MSR）など多種多様なレジスタ群を持つ。数え方次第で「数十個」から「千〜万単位」まで変わる。

## この記事を読むべき理由
x86-64はサーバ、デスクトップ、組み込みまで日本の現場でまだ広く使われるアーキテクチャです。コンパイラ最適化、デバッグ、仮想化、セキュリティ評価の理解には「どのレジスタが存在し、どう使われるか」を知ることが有益だからです。

## 詳細解説
- カウントルールの重要性  
  サブレジスタ（例：EAX, AX, AL）を別々に数えるか、AVX-512や古い拡張を含めるかで総数は変動する。元記事は「サブレジスタは別扱い」「長モードで使えないがCPU上にあるものは数える」「古い廃止された専用レジスタやマイクロアーキテクチャ内部の影は除外する」という前提で整理している。

- 主なレジスタ群と代表的な数（元記事の準拠ルールによる）  
  - 汎用レジスタ（GPR）: 64-bitレジスタ16本＋下位サブレジスタを含めて合計約68。  
  - 特殊レジスタ（RIP, RFLAGS など）: 約4。  
  - セグメントレジスタ（CS/SS/DS/ES/FS/GS）: 6。FS/GSはFSBASE/GSBASEと関連。  
  - 浮動小数点/ SIMD 系: x87（ST0..ST7 等）やMMX、SSE/AVX系を合算して約33〜（AVX-512の有無で変動）。  
  - デバッグ / 境界チェック / 制御レジスタ（DRx, CRx, BNDx など）: 各種で合計数十。  
  - システムテーブル（GDTR/IDTR/TR/LDTR 等）: 4。  
  - モデル固有レジスタ（MSR）: 文書化された「アーキテクチャMSR」だけでも数千に達する可能性がある（SDMの番号空間は6k番台まで存在）。ただし多くは実装依存・予約領域で、実機で使えるものは機種で異なる。

- 実装と権限の違い  
  MSRはRDMSR/WRMSRでアクセスする特権命令。TSCなど一部は非特権で読める命令（RDTSC）を持つ。FSBASE/GSBASEは専用命令（RDFSBASE/WRFSBASE等）やMSR経由で操作される。AVX-512やMPXなど拡張の可用性はベンダや世代差が大きい。

## 実践ポイント
- 当面注目すべきは「GPR」「RIP/RFLAGS」「XMM/YMM/ZMM（使う拡張）」「CR/DR」：コンパイラ最適化やコンテキストスイッチの理解に直結する。  
- 実機で確認するなら Intel/AMD のSDM（マニュアル）とツール群（objdump/ndisasm、msr-tools、/proc/cpuinfo、lscpu）を使う。  
- MSRや特定拡張に依存するコードは移植性が低いので、仮想化やクロスプラットフォーム対応時は代替手段を用意する。  
- パフォーマンス調査では、どのレジスタが命令セット拡張（SSE/AVX）で変わるかを把握してコンパイラフラグを調整する。

元記事は詳細な分類と実装差の議論を含むので、深掘りしたい場合は原典のSDMや元記事を参照するとよい。
