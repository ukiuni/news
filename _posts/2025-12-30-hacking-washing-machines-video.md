---
layout: post
title: "Hacking Washing Machines - 洗濯機ハッキング"
date: 2025-12-30T04:10:00.087Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://media.ccc.de/v/39c3-hacking-washing-machines"
source_title: "Hacking Washing Machines [video]"
source_id: 46428496
excerpt: "洗濯機の基板・通信を解析してクラウド不要で安全にローカル連携する具体手法を解説"
---

# Hacking Washing Machines - 洗濯機ハッキング
洗濯機の内部を暴く──“家電をクラウドに頼らずスマート化する”ための実践リバースエンジニアリング

## 要約
洗濯機などの家庭用家電は外見以上に複雑な電子系と独自プロトコルを内蔵している。本稿は、診断インターフェースや専用バスを解析してファームウェアを読み解き、クラウドに依存しない形でホームオートメーションに組み込む手法を紹介する。

## この記事を読むべき理由
国内の家庭機器は長寿命かつブランド依存が強く、スマートホーム化の障壁になっている。メーカー非公開の通信仕様や堅牢化された保護を理解すれば、既存の高価な家電を安全にローカル連携させ、エネルギー管理や自動化の幅を広げられるため、日本のエンジニアやDIY愛好家に直接役立つ。

## 詳細解説
- 内部構造と通信スタック  
  - 近年の洗濯機はMCU、センサー、インバータ、モータ制御回路、LCDやLED表示、そして各モジュール間を繋ぐ独自のバス（メーカー固有のシリアルバス）を持つ。公にされないプロトコルはメーカー毎にバリエーションがある（例：B/S/H/系、Mieleでの実例）。
- 解析手法  
  - 物理解析：基板の写真、試験パッドの特定、電源／シリアルラインの確認。
  - バス解析：I2C、SPI、UART、CAN、独自差分ラインなどをロジックアナライザでスニッフィング。波形からフレーム構造やコマンドセットを復元する。  
  - ファームウェア取得：フラッシュチップの取り外し→SPI読み出し、あるいはデバッグポート（JTAG/SWD/UARTブートローダ）経由でダンプ。  
  - 解析ツール：Ghidra/IDAで逆アセンブル・デコンパイルし、コマンド処理ルーチンや安全機構を特定。
- セキュリティと保護回避（技術的観察）  
  - 製品はしばしばブートローダロック、フラッシュ保護、暗号化、チェックサム/署名、ハードウェアブロー（フェーズ）で保護される。解析ではブート時の割り込み抑止や電圧グリッチ、テストモード活用、プローブ経由のNAND/SPI直接読み出しといった手法が用いられる。  
  - 注意点：保護の解除は法的・保証上のリスクがあるため、研究・教育目的で行う場合も安全性と法令順守を優先すべき。
- クラウドレス統合の設計哲学  
  - 目的は「デバイスを壊さずにローカルで読み書きできるようにする」こと。抽出したコマンドをMQTT/HTTPブリッジ（例：ESP32やRaspberry Pi）でラッピングし、Home AssistantやOpenHABに接続する方法が紹介されている。  
  - レガシー機器をクラウドに頼らず運用することで、応答性向上・プライバシー保護・ネットワーク障害耐性が得られる。

## 実践ポイント
- 必携ツール（初級〜中級）
  - マルチメータ、ロジックアナライザ（Saleae等）、USBシリアルアダプタ、ISP/SPIリーダ、JTAG/SWDツール、テスト用電源、テスター用抵抗/ジャンパワイヤ。
- 初手の手順（安全第一）
  1. 電源を落として外観・基板写真を撮る。重要パッドにマーキング。  
  2. サービスマニュアルや部品番号を収集し、MCU/フラッシュを特定。  
  3. 非破壊でのシリアル露出（UART）を探し、ブートメッセージをキャプチャ。  
  4. ロジックアナライザで動作中のバスをスニッフし、入力→出力の因果を紐付ける。  
  5. ファーム抽出はリスクが高いためバックアップとブートローダ経路の確認を行う。  
- 統合のアプローチ
  - コマンドを再現する「薄い」ブリッジ層を作る（例：Raspberry Pi + MQTT）→Home Assistantでエンティティ化。  
  - 可能なら読み取り専用から始め、負荷の高い操作は安全装置を残しておく。
- 法律・保証・倫理
  - 分解や改変は保証対象外になり得る。商用目的や製造元の利用規約違反になる可能性もあるため、個人研究は自己責任で、重要な場面ではメーカーと協議する。

## 引用元
- タイトル: Hacking Washing Machines [video]  
- URL: https://media.ccc.de/v/39c3-hacking-washing-machines
