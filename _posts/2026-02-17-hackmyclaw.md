---
layout: post
title: "HackMyClaw - ハック・マイ・クロウ"
date: 2026-02-17T17:46:14.077Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://hackmyclaw.com/"
source_title: "HackMyClaw - Prompt Injection CTF"
source_id: 47049573
excerpt: "メールでAIを騙して秘密鍵を抜き取る実践CTFの手法と防御法を公開"
---

# HackMyClaw - ハック・マイ・クロウ
魅せるタイトル: メールでAIを騙して“秘密鍵”を引き出せるか？実践型Prompt Injection CTF「HackMyClaw」の中身と教訓

## 要約
メール経由で動作するOpenClawアシスタント「Fiu」を対象に、prompt injection（命令上書き）で secrets.env を漏らさせる実践的CTF。実攻撃手法の観察と防御学習を目的に公開されている。

## この記事を読むべき理由
日本企業でもメール連携するAIサービスが増加中。実際の攻撃シナリオ（メールという現実的なベクター）を学ぶことで、自社システムの脆弱性や運用上の危険点をすばやく把握できる。

## 詳細解説
- 仕組み：Fiu はメールを1時間ごとに読み、本文に従って返信を作る（人の承認が必要な設定もある）。内部で secrets.env にアクセスでき、誤誘導でこれを出力させることが挑戦の目的。
- 攻撃ベクター例：役割混乱（role confusion）、命令上書き（"ignore previous instructions"）、コンテキスト操作、出力フォーマットの悪用、Base64/rot13 等のエンコード、不可視文字での隠蔽、段階的な上書き（逐次的な誘導）、ペルソナ乗っ取り（DAN風）など。
- 環境：公開ログあり（送信者・タイムスタンプのみ）、モデルは Anthropic Claude Opus 4.6。ルールはメール本文・件名経由の技術的試行のみ許可、サーバー直接攻撃やDDoSは禁止。
- インセンティブ：先に secrets.env を抽出した人に$100（増額の可能性あり）。送信されたメール本文は例として公開される可能性あり。
- 目的と意義：prompt injectionは実在の脅威。実世界のインプット（メール）で検証することで、未知の回避方法やモデル挙動の盲点を見つけられる。

## 実践ポイント
- システム設計
  - AIが参照できる機密情報を物理的に分離し、モデルコンテキストに含めない。
  - 最小権限で短寿命トークンを使用し、漏洩発覚時の被害を限定する。
- 入力防御
  - メール本文をそのままプロンプトに流すのを避け、正規化・サニタイズ・フィルタリングを実施。
  - 不可視文字や疑似エンコーディングを検出するルールを組み込む。
- 挙動制御
  - 「人の承認」フローの明確化とログ・監査を強化。自動返信で機密を返さないポリシーを厳格に適用。
  - 出力フォーマットを限定（テンプレート化）し、自由テキスト出力での秘密露出を防ぐ。
- 運用と検証
  - 定期的なレッドチーム／CTF形式テストで新手法を検出。
  - モデル応答を監視するログとアラートを整備し、疑わしい出力が出たら即ロールバック・鍵ローテーション。
- 法務・組織
  - テスト時の合意（メール公開の可能性）を明確にし、個人情報や法令順守を確認する。

短く言えば：AIに与える入力とAIがアクセスできる情報を「設計段階で分離」し、運用で「監視・承認・ローテーション」を徹底すれば、この種のメールベースのprompt injectionリスクを大きく下げられる。
