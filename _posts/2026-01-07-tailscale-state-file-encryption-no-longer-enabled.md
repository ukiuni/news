---
  layout: post
  title: "Tailscale state file encryption no longer enabled by default - Tailscaleの状態ファイル暗号化がデフォルトで無効に"
  date: 2026-01-07T20:44:11.069Z
  categories: [tech, world-news]
  tags: [tech-news, japan]
  source_url: "https://tailscale.com/changelog"
  source_title: "Changelog · Tailscale"
  source_id: 46531925
  excerpt: "Tailscale v1.92.5で状態ファイル暗号化が無効化、可用性優先で鍵運用見直しが必須に"
  image: "https://tailscale.com/files/images/og-image.png"
---

# Tailscale state file encryption no longer enabled by default - Tailscaleの状態ファイル暗号化がデフォルトで無効に
Tailscale v1.92.5で「起動しやすさ優先」に舵を切ったアップデート — TPM故障やノード移行で救われる反面、暗号化ポリシーの見直しが必要に

## 要約
Tailscale v1.92.5（2026/01/06）で、Linux・Windowsクライアントおよびコンテナ/Operator周りの「状態ファイル暗号化」とハードウェア認証（TPM）鍵の扱いがデフォルトで無効化され、TPMが読み込めなくてもクライアントが起動するようになりました。Kubernetesではハードウェア認証鍵をState Secretに保存しなくなり、ノード移動が容易になっています。

## この記事を読むべき理由
- 日本の現場でもTailscaleは社内ネットワークやクラウド接続の簡易化に使われます。今回の変更は可用性と運用の柔軟性に直結するため、運用ルールやセキュリティ設定の見直しが必要です。特にTPM利用やKubernetes上の運用をしているチームは影響が大きいです。

## 詳細解説
- 何が変わったか（要点）
  - 状態ファイル（state file）の暗号化とハードウェア認証鍵（TPM鍵）をデフォルトで有効にしないように変更。つまり「自動で暗号化される」挙動が解除されました。
  - TPMが初期化・交換されたり、鍵が読み込めない状況でも、クライアントは起動するようになっています。従来は鍵読込失敗で起動失敗するケースがありました。
  - コンテナイメージ／Kubernetes Operator側では、ハードウェア認証鍵をKubernetesのState Secretに保存しないようになり、Tailscaleコンテナを別ノードへ移動しやすくなっています。
  - 証明書の更新まわりの挙動も微調整（ARl注文での再発行をデフォルトにしないなど）されており、ACME鍵の再作成時の失敗を避ける設計変更が入っています。
- なぜこの変更が行われたか（背景）
  - TPMのリセットやハードウェア交換で鍵が読み込めなくなりサービスが止まるリスクを減らすため。可用性を優先して起動し続けられるようにした設計変更です。
  - Kubernetes環境ではノード置き換え・ローリング更新の柔軟性を高めるため、秘密情報の扱いを見直した、という意図があります。
- トレードオフ
  - 可用性は向上しますが、デフォルトでの「保護レベル」が下がる可能性があるため、組織ごとのセキュリティポリシーに合わせて暗号化や鍵管理を明示的に設定する必要があります。

## 実践ポイント
- まずバージョン確認：クライアント/コンテナ/Operatorが v1.92.5 系かどうかを確認。
- ポリシー見直し：デフォルト動作が変わったため、自組織で「状態ファイル暗号化を必須」にしたい場合は明示的に有効化するルールを作る。
- TPM運用の検討：TPM依存にしていた運用は、TPM故障時の復旧フローを再確認。鍵のバックアップやリカバリ手順を整備する。
- Kubernetes運用者へ：ハードウェア認証鍵がSecretsに入らなくなったため、ノード移行やスケールの挙動をステージングで確認。必要ならシークレット管理方針を改める。
- 証明書・ACME対応：ACMEアカウントキーを再作成する運用がある場合、証明書更新の失敗シナリオをテストしておく。
- 監視とログ：アップグレード後は起動ログ・認証エラー・証明書更新ログを注意深く監視し、問題があればロールバック手順を実施できるようにする。
- テスト運用を推奨：特に社内VPNや重要サービスで使っている場合、まずステージング環境でアップグレードと運用手順を検証する。

短くまとめると、v1.92.5は「停止しない」ことを優先した変更であり、可用性は上がるが暗号化・鍵管理ポリシーは運用側で明確にする必要があります。日本の現場でも運用ルールと復旧手順の見直しをおすすめします。
