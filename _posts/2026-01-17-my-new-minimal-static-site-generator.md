---
layout: post
title: "My new minimal static site generator - 私の新しい最小限の静的サイトジェネレータ"
date: 2026-01-17T19:54:22.284Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://maurycyz.com/misc/new_ssg/"
source_title: "My new minimal static site generator"
source_id: 1478477599
excerpt: "C一ファイルで動く依存ゼロの最小限SSGで、HTML直書き×明示抜粋で確実に運用できる方法を公開"
---

# My new minimal static site generator - 私の新しい最小限の静的サイトジェネレータ
MarkdownよりHTMLでシンプルに回す——C一ファイルで動く、依存を減らした“手が届く”静的サイトジェネレータ

## 要約
著者は既存の静的サイトジェネレータ（SSG）の過剰な複雑さとMarkdownの脆弱さを理由に、自分用に単一Cソースで書かれた小さなSSGを作った。HTMLをそのまま扱い、メタ情報や抜粋生成、タグ・アーカイブ・RSSの出力を最小限のロジックで実現している。

## この記事を読むべき理由
日本でも個人ブログや技術メモ、社内ドキュメントで「運用のシンプルさ」「依存関係の少なさ」「長期的な保守性」が重要になっています。Hugoなどの大型ツールは機能豊富ですが依存が膨らみがちで、少人数運用やオフラインビルドを前提にする場合は逆に手間になります。本記事は「なるべく少ない部品で確実に動く」アプローチの実装例と思想を学べます。

## 詳細解説
- 問題提起
  - 多くのSSGはMarkdownと独自テンプレート言語に依存し、Markdown自体が曖昧でパーサーが壊れやすい。複雑な構造や細かい出力制御で設定・デバッグに時間がかかる。
  - 大型ツールは外部依存やDSL（ドメイン固有言語）を増やし、設定ファイルやテンプレート内に別言語が紛れ込むため学習コストとトラブルが増える。

- 著者の方針
  - 投稿はHTMLファイルで書き、先頭にメタデータ（タイトル、日付、タグなど）をブロックとして付ける。HTMLそのものをソースにすることで「変換レイヤー」を排除。
  - ジェネレータはソース木を走査して、HTMLをテンプレートで包み、非HTMLはそのままコピーするシンプルな処理を行う。
  - 抜粋は明示的なコメント（例: <!-- snip -->）以前の部分を使う。本文内の「.」一行だけを段落区切りのショートハンドとして扱うなど、書き手負担を軽くする工夫もある。
  - 出力ルールの一例：投稿を日付逆順にソートし、先頭5件をホーム、先頭20件をRSS、タグごとのインデックスや特定カテゴリ（例：写真カタログ）は独自ソートで生成。
  - 実装は単一のCソース（mksite.c）で800行未満。実行に必要なのはCコンパイラだけで、外部ライブラリやネットからの大量依存を引き込まない。

- 移行と運用
  - 既存の100件超の記事は手作業でHTML形式に変換しつつ内容をリライト。結果としてURLやRSS GUIDを維持して互換性を確保している。
  - 大規模ツールは企業向けには有利だが、個人や小規模運用では「自分で理解できるコードベース」の方が長期的に楽だ、という立場。

## 日本市場との関連
- セキュリティとサプライチェーン対策：近年、OSS依存の供給連鎖リスクが注目されています。依存を減らす設計は日本企業の中小チームや自治体などでも現実的かつ有効です。
- 小規模チーム/個人の運用文化：日本の個人ブロガーや社内ナレッジ担当は「少ない手間で安定させる」ことを重視する傾向があり、本アプローチは相性が良いです。
- 日本語コンテンツ特有の課題（モバイル入力、全角スペース、エンコーディングなど）を考えると、変換段階を一つ減らすメリットが出やすい。

## 実践ポイント
- 小規模サイトならまずHTMLで書いてみる：Markdownパーサーが不要ならフォーマット崩れの心配が減る。
- ジェネレータは「単一ファイル・少ない依存」で設計する：ビルド環境を簡潔にし、トラブル時に自分で直せる範囲に収める。
- 抜粋やページ分割は明示的マーカーを使う：自動切り出しの誤判定を避けられる。
- マイグレーションではURLとRSS GUIDを維持する：検索や購読者に影響を与えないために重要。
- 大型SSGは必要な場合に限定して採用する：チーム規模とメンテ人員を見積もり、ツール選定を行う。

興味があれば、同様のミニマルSSGをPythonやLuaで試作する方法や、既存サイトの移行チェックリストを簡潔に作ってお渡しします。どちらが良いですか？
