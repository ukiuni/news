---
layout: post
title: "Reverse engineering Lyft Bikes for fun (and profit?) - Lyft自転車をリバースエンジニアリングして遊ぶ（そして儲ける？）"
date: 2026-01-22T20:33:09.223Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://ilanbigio.com/blog/lyft-bikes.html"
source_title: "Reverse engineering Lyft bikes for fun (and profit?) - Ilan Bigio"
source_id: 46721703
excerpt: "Lyft自転車のAPI脆弱性を突き位置偽装とID探査で遠隔解除、報告で修正された顛末"
---

# Reverse engineering Lyft Bikes for fun (and profit?) - Lyft自転車をリバースエンジニアリングして遊ぶ（そして儲ける？）
サンフランシスコで“自転車を遠隔で解除”した男の顛末──脆弱性の発見と責任

## 要約
Lyftのモバイルアプリを解析した筆者は、通信を傍受してアンロック用APIの振る舞いを解析し、位置情報や自転車IDの扱いを突いて遠隔で自転車を解除できることを確認。最終的に脆弱性は報告され、修正された。

## この記事を読むべき理由
モバイル→クラウド→物理デバイスへつながる「共有モビリティ」のアーキテクチャは日本でも普及中であり、同様の設計ミスは国内サービスにも影響し得ます。初級エンジニアでも理解できるレベルで、何が危険でどう対策すべきかが学べます。

## 詳細解説
- きっかけ：筆者は現地で「目的の自転車が取られている」問題を解決しようと、アプリ通信を解析して挙動を調べた。  
- 解析の要点（高レベル）：
  - アプリはサーバへアンロック要求を送る際に、ユーザ位置や自転車を識別するIDを含むJSON形式のリクエストを送信していた。
  - サーバ側は「送信された位置が自転車の近くか」を参照して地理的制御（ジオフェンス）を行っていたため、送信位置を偽ることで近接条件を回避できる余地があった。
  - 自転車IDは物理ラベルに依存しており、APIで一覧取得できなかったため数字列を試す「ブルートフォース」で探索した。非同期並列化により試行速度を飛躍的に上げられた。
  - 高頻度リクエストはサービスに負荷を与え、誤検知でインシデントを誘発するリスクがある。
- 倫理と対応：筆者は脆弱性を報告し、事業者側は修正（および予約機能の導入）を行った。話の結末は「発見→責任ある開示→修正」という模範例に近い。

## 実践ポイント
- エンジニア（サービス提供者向け）
  - クライアントからの位置情報だけで重要操作を承認しない。サーバ側での複合的検証（位置検証＋端末の信頼性確認）を行う。
  - 認証情報やAPIキーの露出を最小化し、重要操作には短命トークンやデバイス認証を導入する。
  - レート制限・異常検知を設け、高並列リクエストやパターンの悪用を早期に遮断する。
  - バグバウンティや脆弱性報告窓口を整備し、責任ある開示を促す。
- エンジニア（学習・調査目的の個人向け）
  - セキュリティ調査は必ず自分が権限を持つ環境か、明示的に許可された対象で行うこと。実運用システムでの未許可テストは法的・倫理的問題を招く。
  - 同様の問題を学ぶには、オープンソースの模擬環境やCapture The Flag（CTF）、公式な脆弱性報奨制度を活用する。

以上。
