---
layout: post
title: "It's All a Blur - 「すべてはぼやけている」"
date: 2026-02-11T11:13:03.476Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://lcamtuf.substack.com/p/its-all-a-blur"
source_title: "It&#x27;s all a blur - lcamtuf’s thing"
source_id: 46909279
excerpt: "単純なぼかしでも元画像が驚くほど復元可能で、機密は塗り潰し等で確実に隠すべきだ"
image: "https://substackcdn.com/image/fetch/$s_!Eeib!,w_1200,h_675,c_fill,f_jpg,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6dbffa9-618d-4593-947c-fa37abc75ce0_4394x2992.png"
---

# It's All a Blur - 「すべてはぼやけている」
魅せるぼかしのからくり：見た目より情報が残る理由と安全な対策

## 要約
ぼかし（平均化）は「元に戻せない」と思われがちだが、単純な移動平均や偏りのある平均では出力から元の画素値を復元できる。適切な知識があれば、意外と詳細が取り戻せる。

## この記事を読むべき理由
日本でも画像のプライバシー処理（個人情報隠蔽、機密資料の共有）で「ぼかし」「モザイク」を使うことが多い。この記事はその危険性と、どんなぼかしが危ないか、現場で取るべき対策を平易に示します。

## 詳細解説
- 基本アイデア：単純な横方向の移動平均（box blur）は、各出力画素が周囲n個の算術平均になる。例えば幅5の右寄せ移動平均なら
  $$
  blur(0)=\frac{c+c+c+c+img(0)}{5}
  $$
  のように境界は固定パディング$c$で埋めると仮定できる。
- 差分で復元可能：隣接するぼかし値を差し引くことで、未知の入力画素を直接求められる。一般形では（n=5の例）
  $$
  img(3)=5\cdot(blur(1)-blur(0))+c
  $$
  のように復元でき、右寄せにすれば順に全画素を再構築できる。
- 2次元化の問題：x方向→y方向の二段ぼかしや2Dフィルタにしても、量子化（8-bit化）によるノイズは増えるが、重み付け（中心画素にB倍の重みを与える）を残しておくと驚くほど復元が可能。重み付きフィルタの式は
  $$
  blur(n)=\frac{img(n-W)+\dots+img(n-1)+B\cdot img(n)}{W+B}
  $$
- 実運用での耐性：JPEGなどの損失圧縮を挟んでも、品質が高め（例: 85%〜95%）なら復元がかなり成功する。逆に極端に低品質にすると抽象化されるが、実務ではそこまで破壊的に落とすことは稀。
- 制約：この復元は「フィルタの種類」と「境界パディング値」を知っている（または推定可能）ことが前提。アナログ撮影の手ぶれ等とは別物で、デジタルフィルタに対する攻撃的復元。

## 実践ポイント
- 機密情報の隠蔽にぼかし／モザイクだけを使うのは危険。確実に隠すには対象領域を塗りつぶす（黒塗り）、切り取る、または元データを渡さない運用を。
- 共有前に「復元テスト」を行う：自分で上のような復元手法（差分→逆順復元）を試して漏洩リスクを評価する。
- 自動化ツールやライブラリを使う場合、どのフィルタを使っているか（中心重み・窓幅・パディング）を確認。重み付きであっても安全とは限らない。
- 法務・コンプライアンス部門へ周知を。日本の企業でも「見た目で隠れていればOK」という誤認が散見されるため、運用ルール化を。
- どうしてもぼかしを使う場面では、低品質JPEGで圧縮し過ぎる、あるいはランダムノイズで上書きするなど「情報破壊」を併用してリスクを下げる（ただし画質や可用性とのトレードオフあり）。

元記事は実験画像やMATLABコードも公開されています（興味があれば原著を参照してください）。
