---
layout: "post"
title: "Show HN: Vibe coding a bookshelf with Claude Code - Show HN: Claude Codeで本棚を「バイブス・コーディング」する"
date: "2025-12-29T14:26:31.121Z"
categories:
- tech
- world-news
tags:
- tech-news
- japan
source_url: "https://balajmarius.com/writings/vibe-coding-a-bookshelf-with-claude-code/"
source_title: "Vibe coding a bookshelf with Claude Code"
source_id: "46420453"
excerpt: "AIに本棚デジタル化を一任し、手作業との境界を明確にしつつ約460冊を短時間で再現した実践ガイド"
---

# Show HN: Vibe coding a bookshelf with Claude Code - Show HN: Claude Codeで本棚を「バイブス・コーディング」する

## 要約
AI（この記事ではClaude相当のエージェント）に写真を渡してメタデータ抽出→カバー取得→見た目再現まで自動化させ、約460冊の私家本棚を短期間でデジタル化した実例。実行はAI、判断は人間——その境界線がはっきりしたプロジェクトだ。

## この記事を読むべき理由
個人の蔵書管理や小規模な図書アプリ開発は日本でも需要が高い。ISBNや既存サービスがカバーしない洋書・古書・地域出版物を扱う際、AIを実務レベルで使い切る手法と現実的な妥協点（90%ルールなど）が参考になる。

## 詳細解説
- 入力データと準備  
  まず筆者は自分の本を写真撮影（約470枚）。HEIC→JPG変換、ファイル整理などの前処理をし、画像群をAIに渡せる形に整えた。

- メタデータ抽出（Vision API）  
  AIスクリプトが画像を順にVision APIへ送り、タイトル・著者・出版社などを抽出・正規化してJSON出力。結果は約90%正解で、失敗は照明や摩耗で読めない背表紙に集中。残りは人手で補正するという判断（コスト対効果の見極め）が重要だった。

- カバー画像の補完戦略  
  スパイン写真しかないため、カバー画像はOpen Library APIで取得。欠損や低品質はAIがスコアリングしてフラグを立て、SerpAPI経由でGoogle Images検索にフォールバック。さらに手作業で10枚程度をPhotoshop修正して品質を担保。

- 見た目（UI/UX）の再現  
  単なるグリッドではなく「スパイン」を再現するため、カバー画像から色抽出（カラークォンタイズ）→背景色と可読性のための対比色算出→ページ数をスパイン幅にマッピングして不均一性を表現。結果、物理的な本棚に近い見た目に。

- アニメーションとパフォーマンス改善  
  Framer Motionを使ったスクロール連動の傾きアニメーションを導入。初期はスクロールごとにReact stateを更新してしまいスナップ的な動きに。解決はmotion valuesとスプリングを使ってReactのレンダリングサイクル外でアニメーションさせることだった。

- 失敗と判断（コードを消す勇気）  
  無限スクロールを実装したが、DOM高さの同期問題やUXの劣化で結局削除。動く＝良い、ではなく「必要性」に基づく削除判断は人間の仕事。

- モバイルへの適応  
  横スクロールが窮屈な端末向けに、AIに既存コードを読ませて縦積みの「スタックビュー」を生成させ、アニメーションやデータ形を再利用してシームレスに切替可能にした。

## 実践ポイント
- まず「写真を撮る」こと：棚全体を撮ってデータ化の起点を作る。HEIC対応など前処理を忘れずに。
- Vision APIは完璧を期待しない：90%で十分な場合が多い。残りは手作業で効率的に補正するワークフローを用意する。
- カバー取得は階層的フォールバックを用意：Open Library → 画像検索（SerpAPI等）→ 手作業。
- 見た目再現はデータ駆動で：色の抽出、ページ数→幅のマッピングなどでリアリティが増す。
- スクロール連動アニメはReact stateでやらない：motion values + springsで滑らかに。頻繁なscrollイベントでのsetStateは避ける。
- 「最適化不要」も判断する：動作するがUXが悪い機能は削る勇気を持つ。
- 継続運用を設計する：新刊追加用の同じパイプライン（写真→メタデータ→カバー→JSON）を用意すると運用コストが劇的に下がる。

日本市場への短い補足
- 日本語／縦組やサブタイトル、ノンラテン文字はOCRやデータベースの限界に直面しやすい。地域出版や古書の多い日本では、上記の「90%＋手直し」戦略が特に有効。
- 書店や古本屋向けの小規模システム、個人コレクション管理アプリのアイデア実装にすぐ使える手順と判断基準が示されている。

結論：実装はAIで高速化できるが、どこで「許容するか」「削るか」「直すか」という判断は引き続き人間の領域。AIは実行コストを下げるが、味付け—つまり「何を見せたいか」を決めるのが差を生む。
