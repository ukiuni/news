---
layout: post
title: "Electricity use of AI coding agents - AIコーディングエージェントの電力消費"
date: 2026-01-21T00:54:06.795Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://www.simonpcouch.com/blog/2026-01-20-cc-impact/"
source_title: "Electricity use of AI coding agents | Simon P. Couch – Simon P. Couch"
source_id: 46695415
excerpt: "AIコーディングエージェントが1日で約1.3kWh消費、衝撃の試算と対策急務"
---

# Electricity use of AI coding agents - AIコーディングエージェントの電力消費
驚きの差：1回の「コード作業セッション」は“典型的な問い合わせ”の何百倍の電力を使うことがある

## 要約
1回のClaude Codeのコーディングセッションは、いわゆる「典型的なプロンプト（約$0.3\ \mathrm{Wh}$）」に比べて桁違いに電力を消費する。筆者の推計では中央値のセッションで約$41\ \mathrm{Wh}$、1日の利用で約$1{,}300\ \mathrm{Wh}$（約$1.3\ \mathrm{kWh}$）に達することがある。

## この記事を読むべき理由
- 多くの解説は“1回の問い合わせ”で語られるが、実務で開発者が複数のコーディングエージェントを連続稼働させる実態は全く異なる。  
- 日本のソフトウェア開発現場でもAIエージェントが増えれば、個人〜企業レベルでの電力・コスト・カーボン影響が無視できなくなるため、実用的な対策が必要。

## 詳細解説
- 「典型的なプロンプト」は業界推計で約$0.24$〜$0.34\ \mathrm{Wh}$とされるが、これは短い入力・出力の単発問い合わせを想定している。  
- コーディングエージェント（例：Claude Code）の特徴は以下：
  - 大きなシステムプロンプトやツール説明（数万トークン）が初期コンテキストとして付与される（先頭で既に数万トークン）。  
  - ユーザーの一回の命令が複数回のツール呼び出し（ファイル検索やシェル実行など）を誘発し、それぞれがAPI呼び出し（＝トークン処理）を生む。  
  - 結果として「1メッセージ」が何十〜何百もの長大なクエリ列に展開される。
- 筆者の推定手法（要点）：
  - Epoch AIなどの既存試算（長い文脈での全体消費）とAnthropicのトークン課金比率を組み合わせ、入力/出力/キャッシュごとのWh／百万トークン（Wh/MTok）を逆算。  
  - 出力は課金比で入力の5倍としてモデル化し、最大文脈ケースから保守的な係数を採用。数値例（筆者の“最大”前提）：入力約$390\ \mathrm{Wh/MTok}$、出力約$1950\ \mathrm{Wh/MTok}$、キャッシュ読み出し約$39\ \mathrm{Wh/MTok}$、キャッシュ作成約$490\ \mathrm{Wh/MTok}$。  
  - これを実際のセッションログ（中央値で約592,439トークン）に適用すると、1セッション約$41\ \mathrm{Wh}$。典型プロンプト$0.3\ \mathrm{Wh}$と比べて約138倍。1日の合計では約$1{,}300\ \mathrm{Wh}$（$1.3\ \mathrm{kWh}$）に。  
- 数式（概念）：
  $$ (T_{\text{in}}\cdot r_{\text{in}})+(T_{\text{out}}\cdot r_{\text{out}})=W_{\text{total}} $$
  $$ r_{\text{out}}=5r_{\text{in}}\quad \Rightarrow\quad r_{\text{in}}=\dfrac{W_{\text{total}}}{T_{\text{in}}+5T_{\text{out}}} $$
  （$T$は百万トークン単位に揃えて使用）
- 文脈と限界：
  - あくまで「ナプキン計算」＝多くの仮定あり（モデル効率、実装差、キャッシュ挙動、データセンターの電源構成など）。  
  - 重要なのは「相対的な差」と「累積効果」：個人レベルでの短期節電よりも、組織での大量利用に伴う電力・CO2の総量が問題になりやすい。

## 実践ポイント
- モニタリング：エージェントのトークン使用量／セッション数をログで記録し、WhやkWh換算で可視化する。  
- 設定で抑制：最大コンテキスト長や生成トークン上限を現実的に制限する（不要な大コンテキストを減らす）。  
- キャッシュ活用：同一リポジトリや依存情報をキャッシュしてツール呼び出しを減らす。ただしキャッシュ作成コストもあるため計測し最適化する。  
- インスタンス管理：複数インスタンスの常時稼働を避け、必要時に起動するバースト運用へ。  
- 供給側に注目：データセンターの電源構成（再エネ比率）や運用効率を説明できるクラウド／サービスを選ぶ。日本の企業はサプライヤーに対して透明性（電力消費データ、CO2排出係数）の提示を求める価値あり。  
- 組織方針：大規模採用前にパイロットで環境影響とコストを試算し、社内ガイドライン（利用時間、並列数、モデル選択）を作る。

短くまとめると、「チャット1回」の議論だけで安心してはいけない。開発現場での連続的・多トークン利用は電力とコストを着実に増やすため、計測・設定・運用方針で対策することが現実的かつ効果的である。
