---
layout: "post"
title: "Never Use Pixelation to Hide Sensitive Text (2014) - 機密テキストを隠すためにピクセル化（モザイク）を決して使ってはいけない (2014)"
date: "2025-12-28 18:17:03.341000+00:00"
categories:
- tech
- world-news
tags:
- tech-news
- japan
source_url: "https://dheera.net/posts/20140725-why-you-should-never-use-pixelation/"
source_title: "Why You Should Never Use Pixelation To Hide Sensitive Text | dheera.net"
source_id: "46345412"
excerpt: "モザイクは数秒で個人情報を復元され得る—写真公開前に削除・塗りつぶしで確実に保護する方法を解説"
---
# Never Use Pixelation to Hide Sensitive Text (2014) - 機密テキストを隠すためにピクセル化（モザイク）を決して使ってはいけない (2014)

## 要約
画像上のテキストや数字をモザイク（ピクセレーション）で隠すと、攻撃者が候補を総当たりして元の文字列を復元できる。確実な対策は「隠す（削除/塗りつぶし）」こと。

## この記事を読むべき理由
日本でもクレジットカード番号、口座番号、マイナンバー、身分証の一部を撮影してSNSやチャットに流す事例は後を絶たない。モザイク加工だけでは「安全だと思っていた情報」が第三者に復元され得る点を理解し、実務での適切な画像処理ルールを導入するために必読です。

## 詳細解説
元記事が示す攻撃の流れ（要点のみ）：
- 攻撃者は「候補辞書」を用意する。たとえば口座番号やカード番号の全候補または妥当な候補集合を作る。
- 候補ごとに同様の見た目（同じフォント、角度、照明）で候補画像を生成し、元画像と同じモザイク処理を適用する。
- 各モザイク領域ごとの輝度や色をベクトル化して比較し、元画像のモザイク特徴ベクトルに最も近い候補を探す。

数式で表すと、候補 $a(x)=[a_1,a_2,\dots,a_n]$、元画像のモザイク特徴 $z=[z_1,\dots,z_n]$ として、各ベクトルをノルムで正規化しユークリッド距離を取る方法が基本です：

$$
N(v)=\sqrt{\sum_{i=1}^n v_i^2}
$$

$$
d(x)=\sqrt{\sum_{i=1}^n\left(\frac{a_i(x)}{N(a(x))}-\frac{z_i}{N(z)}\right)^2}
$$

距離が小さい候補が元データの有力な推定値になります。さらにRGBやHSVのチャンネル別比較、平行移動や回転を考慮した比較、そしてLuhnチェック（クレジットカード）や桁構造の制約で候補を激減させれば現実的に復元できてしまいます。

なぜモザイクが弱いか：モザイク処理は入力空間を粗く「ハッシュ」してしまうので、元の情報量が小さい場合（たとえば数百万通り程度）だと辞書攻撃で逆引き可能になるためです。逆に顔全体のような高情報量データは同様の手法で復元するのが難しいが、短い数列や固有フォーマットの文字列は危険です。

日本市場への関連性：
- 日本の銀行口座、クレジットカード、マイナンバーの取り扱いは厳格化が進んでおり、モザイクだけで流出対策を済ませるのはコンプライアンス上も問題。
- 日本語の住所や氏名も類似の手法で部分復元され得る。特に固定書式（例：カード番号、電話番号、郵便番号）は攻撃者にとって狙いやすい。

## 実践ポイント
- 絶対にやってはいけない：敏感な数字／テキストを「モザイク（ピクセル化）でぼかす」だけで公開すること。
- 代替手段（すぐ実行できる順）：
  1. 対象領域を切り取って削除する（最も安全）。
  2. 完全な不透明色（黒/白）で塗りつぶす（ビットレベルで元の情報が残らないように保存すること）。
  3. 画像のメタデータ（EXIF等）も必ず削除する。
  4. 文書ならOCRテキスト自体を編集・削除してからPDF化する。PDFの「赤action（redaction）」機能を使う（表面的に黒で覆うだけのツールに注意）。
  5. シェアする前に第三者が復元できないことを簡単に検証する（異なる背景や解像度での再現を試す）。
- 開発者向け：自動投稿ツールやSNS連携機能に画像赤actionチェック（マスク済みか、領域が切り取られているか）を組み込む。
- 組織向けポリシー：従業員教育で「モザイクは不可」を明文化し、漏洩対応フローを整備する。

