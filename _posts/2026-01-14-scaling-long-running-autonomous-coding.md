---
layout: post
title: "Scaling long-running autonomous coding - 長時間自律コーディングのスケーリング"
date: 2026-01-14T23:29:34.126Z
categories: [tech, world-news]
tags: [tech-news, japan]
source_url: "https://cursor.com/blog/scaling-agents"
source_title: "Scaling long-running autonomous coding · Cursor"
source_id: 46624541
excerpt: "数百のAIエージェントが役割分担で百万行規模の開発を1週間で達成し、運用課題と対策を示す"
image: "https://ptht05hbb1ssoooe.public.blob.vercel-storage.com/assets/blog/long-running-agents-og.png"
---

# Scaling long-running autonomous coding - 長時間自律コーディングのスケーリング
数百のAIエージェントで「長期プロジェクト」を走らせたら何が起きるか──1週間でブラウザを生成した実験が示す現実と教訓

## 要約
Cursorが数百の並列エージェントを同一コードベースで数週間走らせ、設計役（プランナー）と実装役（ワーカー）に分けることで百万行級の成果を出せることを確認した実験報告。モデル選定や単純化の重要性、運用上の落とし穴が主な学び。

## この記事を読むべき理由
AIによる「自律的なソフトウェア開発」が単発タスクから長期プロジェクトへ伸びる可能性は、日本の企業が抱える大規模レガシー移行や人手不足問題の解決策になり得ます。技術的な実装ポイントと運用上のリスクを早めに理解しておく価値があります。

## 詳細解説
- 単一エージェントの限界  
  現行の生成AIは短期・限定タスクに強いが、数ヶ月規模のプロジェクトでは遅く、方針のぶれ（drift）や進捗の滞りが発生する。

- 自律エージェント同士の協調で直面した課題  
  最初は全エージェントが同格で「共有ファイル＋ロック」で自己調整させた。結果はロック競合、デッドロック、待ち時間によるスループット低下、保守不能な振る舞い（ロック放置や重複作業）だった。楽観的同時実行制御にしても、階層が無いとエージェントがリスク回避に終始し、難問を誰も引き受けない「作業のループ」が起きた。

- プランナー（設計）とワーカー（実装）という役割分離  
  成功した設計はパイプライン化：プランナーがコードベースを探索してタスクを生成、必要に応じてサブプランナーを起こす。ワーカーは単一タスクを完遂してコミットすることだけに集中。判定役（ジャッジ）が各サイクルの続行可否を決め、次サイクルは新しい状態から始める。これにより視野狭窄（トンネルビジョン）や競合が減りスケールが可能になった。

- 実験結果（インパクトの例）  
  - ブラウザをゼロから作る実験：約1週間で1000ファイル・100万行超  
  - Solid→React の in-place マイグレーション：3週間で大量の編集（+266K/-193K）  
  - 動画レンダリングを Rust 実装で25倍高速化し、本番マージ済みのケースもあり  
  大規模プロジェクト（数十万〜百万行規模）が複数エージェントで実用的に進む可能性を示した。

- モデル選定とシステム設計の教訓  
  モデルは長期タスクで差が出る（例：GPT‑5.2が長期維持に強い）。各役割に最適なモデルを割り当てる方が高効率。複雑な統合役（integrator）は逆にボトルネックになりやすく、単純な構成の方が堅牢。何より「プロンプト設計」が振る舞いの大半を決める。

- 残る課題  
  プランナーのトリガーや適切な「再起動（fresh start）」の仕組み、長時間稼働時のドリフト対策、コストと品質のバランスなどは未解決の課題。

## 実践ポイント
- 小さく始める：まずは役割分離（プランナー／ワーカー／ジャッジ）をローカルで試す。  
- モデルの役割分担：プランニング系には「長期維持が得意なモデル」、コード生成には専門モデルを割り当てる。  
- 楽観的同時実行制御を使う：ロックよりシンプルでスケーラブル。ただしコンフリクト解消ロジックは必須。  
- 定期的な「リフレッシュ」：一定サイクルで新しい評価を入れ、ドリフトやトンネルビジョンを抑える。  
- プロンプト工学を重視：協調ルール、失敗時の回復手順、品質基準はプロンプトで明示する。  
- 日本の現場へ適用する際の留意点：セキュリティ・ライセンス・データ保護のチェックを組み込む（法規制や社内ガバナンス）。  
- 可視化とガードレール：CI/コードレビュー・自動テストを必須とし、人間の最終承認フローを保持する。

この実験は「何でも自動化できる」という宣言ではなく、実運用に近い条件での可能性と限界を示しています。日本の企業が大規模な移行や機能改善を短期間で実現するには、役割分離・モデル最適化・プロンプトとシンプルな運用ルールの三点セットが現実的な第一歩です。
